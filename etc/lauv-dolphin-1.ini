;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Copyright (C) 2007-2013 Laboratório de Sistemas e Tecnologia Subaquática ;;
;; Departamento de Engenharia Electrotécnica e de Computadores              ;;
;; Rua Dr. Roberto Frias, 4200-465 Porto, Portugal                          ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Author: Ricardo Martins                                                  ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; $Id:: lauv-dolphin-1.ini 12953 2013-02-18 16:41:10Z jbraga             $:;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; LAUV Xtreme 2 configuration file                                         ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[Require auv/basic.ini]
[Require hardware/lctr-a6xx/basic.ini]
[Require hardware/lctr-a6xx/scrtv4.ini]
[Require hardware/lctr-a6xx/xchangesv.ini]
[Require hardware/lctr-a6xx/imagenex852.ini]
[Require hardware/lctr-a6xx/os5000.ini]
;[Require hardware/lctr-a6xx/navquestdvl.ini]

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Vehicle specific overrides                                               ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[General]
Vehicle                                 = lauv-dolphin-1

[Control.AUV.Allocator]
Maximum Fin Rotation                    = 25.0
Entity Label - Servo Position           = SCRT

[Control.AUV.Attitude]
Roll PID Gains                          = 1.0, 0.0, 0.2
Depth PID Gains                         = 0.3, 0.006, 0.1
Depth Integral Limit                    = 0.03
Use Fixed Depth Offset                  = false
Depth Offset                            = 0.10
Maximum Pitch Reference                 = 20.0
Pitch PID Gains                         = 1.5, 0.0, 1.1
Maximum Pitch Actuation                 = 15.0
Heading PID Gains                       = 1.0, 0.0, 0.0
Maximum Heading Rate                    = 30.0
Heading Rate PID Gains                  = 1.0, 0.0, 0.02
Maximum Fin Rotation                    = 25.0
Force Pitch At Surface                  = true
Pitch Angle At Surface                  = 10.0
Log PID Parcels                         = true
Compute Angular Rates                   = false

[Control.AUV.RemoteOperation]
Disable Analog Thrust                   = false
;; Aprox 2000 rpm
Maximum Thruster Actuation              = 0.47

[Control.AUV.Speed]
Log PID Parcels                         = true

[Control.Path.VectorField]
Debug Level                             = Debug
Course Control                          = true
Bottom Track -- Enabled                 = true

[Monitors.Entities]
Default Monitoring -- Hardware          = Broom,
                                          Clock,
                                          Collisions,
                                          DVL,
                                          Sidescan,
                                          SCRT

[Monitors.FuelLevel]
Batteries Energy Capacity               = 700
Capacity Decay Factor                   = 0.0
Optimistic Model Voltage                = 17.474, 22.0699, 23.4355, 24.0591,
                                          24.5753, 24.9946, 25.3495, 25.8226,
                                          26.7151, 27.1452, 27.8505
Optimistic Model Energy                 = 0.00, 10.12, 28.22, 54.85,
                                          134.72, 235.89, 357.29, 449.95,
                                          573.48, 621.41, 700.00
Optimistic Model Current                = 3.23
Optimistic Model Temperature            = 20.0
Pessimistic Model Voltage               = 7.02789, 22.059, 24.0805, 25.523,
                                          25.7126, 25.9231, 26.1864, 26.7339,
                                          27.0919, 27.492, 28.1027, 28.7133, 29.7247
Pessimistic Model Energy                = 0.0, 12.94, 20.61, 44.57,
                                          94.41, 114.54, 159.58, 311.02,
                                          379.07, 421.25, 498.88, 574.60, 700.00
Pessimistic Model Current               = 0.702
Pessimistic Model Temperature           = 20.0
Zero Model Voltage                      = 17.51, 20.97, 21.82, 22.58,
                                          23.34, 23.97, 24.51, 24.70,
                                          25.04, 25.33, 25.55, 25.84,
                                          26.03, 26.46, 27.05, 27.25,
                                          27.88, 28.33, 29.01
Zero Model Energy                       = 0.00, 5.67, 9.72, 14.59,
                                          25.12, 31.60, 61.59, 72.93,
                                          132.89, 177.47, 283.63, 366.28,
                                          386.55, 492.71, 567.25, 597.24,
                                          671.79, 701.77, 702.59
Zero Model Temperature                  = 0.0
Zero Model Current                      = 1.35
Very Cold Model Voltage                 = 17.51, 20.97, 21.82, 22.58,
                                          23.34, 23.97, 24.51, 24.70,
                                          25.04, 25.33, 25.55, 25.84,
                                          26.03
Very Cold Model Energy                  = 0.00, 32.41, 64.01, 106.16,
                                          166.93, 273.91, 376.81, 414.09,
                                          482.16, 544.56, 587.52, 691.24,
                                          692.87
Very Cold Model Temperature             = -20.0
Very Cold Model Current                 = 1.35
OP Mode Labels                          = Survival,
                                          Idle,
                                          Motion,
                                          SideScan,
                                          Camera,
                                          Full
OP Mode Values                          = 18.095,
                                          18.401,
                                          94.661,
                                          121.661,
                                          117.661,
                                          144.661

[Monitors.Servos]
Position Fault Detection                = true

[Navigation.AUV.SGNavigation]
Entity Label - IMU                      = AHRS
Process Noise Covariance                = 0.1,     ; Position
                                          1e-3,    ; Heading
                                          1e-1,    ; Yaw-rate r
                                          1e-2,    ; Velocity
                                          1e-7,    ; Yaw-rate bias
                                          0.0      ; Heading bias
Use RPM Data                            = true
Distance Between DVL and CG             = 0.41

[Power.PCTLv2]
ADC Reference Voltage                   = 1.092
Power Channel 6 - Label                 = Servos
Power Channel 6 - State                 = 1
Power Channel 7 - Label                 = Echo Sounder
Power Channel 7 - State                 = 1
Power Channel 11 - Label                = SCRT
Power Channel 11 - State                = 1
Power Channel 12 - Label                = N/C (+5VDC_5)
Power Channel 12 - State                = 0
Power Channel 16 - Label                = N/C (IMU)
Power Channel 16 - State                = 0

[Sensors.NavQuestDVL]
Device Position                         = 0.77, 0, 0.12

[Supervisors.Entities]
Plan Mode - Entity Labels               = LBL, Echo Sounder
